---
title: Go：Channel各种情况下的情况
date: 2023-09-19 10:46:41
tags:
- Golang
- channel
---

## Channel情况解析

Channel 作为go协程编程中必要的一环，理解其原理和各种情况是必要的。如果加以利用这些特性。我们会在工作中可以保证安全的情况下探索各种玩法

一般我们看到别人讲channel的各种情况，都用文本写了一行又一行。感觉看不太懂，看完下面会忘了上面。所以我自己整理了整理各种情况并用图表示出来。供自己以后进行快速查找和记忆

![channel各种情况](https://img1.imgtp.com/2023/09/19/iS1g4jSD.png)

上图可以很清晰的看到什么流程会导致什么情况。总结一些特殊的情况：

- 关闭channel 读 返回0
- 关闭channel 写、关闭 panic
- channel = nil 后关闭会panic
- channel = nil channel将无法传递值了，正常使用它进行异步可能会阻塞
- 无缓冲读写都会阻塞必须同时进行

图中阻塞的channel是为了保证异步，如果处理不当，会出现死锁。

如果所有协程都进入了阻塞态，就会导致go报dealLock错误。所以在这些情况要注意，虽然有一些风险，但也会让我们收益更大。能做的事情更多
